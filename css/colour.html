<!doctype html>
<html lang="en">
<head>
	<title>colour</title>
	<meta charset="utf-8">
	<link rel="icon" href="../[common]/favicon.svg">
	<link rel="stylesheet" href="../[common]/common-style.css">
	<link rel="stylesheet" href="../[common]/transition.css">
	<script defer src="../[common]/colourScheme-selector.js"></script>
	<script src="../[common]/common-script.js"></script>

</head>
<body onload="setColour();">
	<header>
		<nav>
			<a class="colourScheme-selector" href="?colourScheme=light" title="Light colour scheme" data-colourScheme="light">ðŸŸ“</a>
			<a class="colourScheme-selector" href="?colourScheme=dark" title="Dark colour scheme" data-colourScheme="dark">ðŸŸ’</a>
			<a title="To folder" href="./">ðŸ–¿</a>
			<a title="Parent folder" href="../">ðŸ¡…</a>
		</nav>

		<h1><a href="">colour</a></h1>
	</header>



	<main>

		<script class="limit-height">

			function setColour() {
				const colour = document.getElementById('input-colour').value;
				const divisions = document.getElementById('input-divisions').value;

				document.body.style.setProperty('--colour', colour);
				document.body.style.setProperty('--colour1', colour);

				const swatches =`
					<div>${swatchesHSL(colour, 'h', divisions)}</div>
					<div>${swatchesHSL(colour, 's', divisions)}</div>
					<div>${swatchesHSL(colour, 'l', divisions)}</div>
					<div class="crosshatch">${swatchesHSL(colour, 'a', divisions)}</div>
				`;

				document.getElementById('swatchesHSL').innerHTML = swatches;
			}


			/** swatchesHSL
			 * @param {string} colour
			 * @param {string} channel
			 * @param {number} divisions
			 */
			function swatchesHSL(colour, channel, divisions) {
				// channel = hue saturation lightness alpha
				let result = '';

				let max = (channel === 'h') ? 360 : 1;
				switch(channel) {
					case 'h': max = 360; break;
					case 's': max = 100; break;
					case 'l': max = 100; break;
					case 'a': max = 1; break;
				}

				const step = max/divisions;
				let val = 0;
				let h, s, l, a;
				let colourString = '';

				for (i=0; i<=divisions; i++) {
					val = i * step;
					h	= (channel === 'h') ? `calc(h + ${val.toFixed(2)})` : 'h';
					s	= (channel === 's')	? `${val.toFixed(2)}` : 's';
					l	= (channel === 'l')	? `${val.toFixed(2)}` : 'l';
					a	= (channel === 'a')	? `${val.toFixed(3)}` : 'alpha';

					colourString = `hsl(from ${colour} ${h} ${s} ${l} / ${a})`;
					result += `<span style="background-color: ${colourString};">${colourString}</span>`; // ${channel} = ${val.toFixed(3)}
				}

				return result;
			}


		</script>

		<style contenteditable="plaintext-only"  class="limit-height">
			body {
				--colour: var(--project-colour);
				--colour1: var(--project-colour);
				color-scheme: var(--colourScheme);

				--accent-light: hsl(from var(--colour1) h s 70% );
				--accent-dark: hsl(from var(--colour1) h s 40% );

				accent-color: var(--colour1);
			}
			output { grid-column-start: span 4; }
			.swatches {
				font-family:monospace;
				div {
					display: flex;
  					justify-content: space-evenly;
				}
				span {
					display:inline-block;
					width: 100%;
					/* max-width: 8em; */
					/* height: 100%;
					height: fit-content; */
					padding:2em;
					border-radius:1ex;
				}

			}

			.crosshatch {
				background:
					repeating-linear-gradient(
						45deg,
						#999a 0pt,
						#999a 1pt,
						#fff0 1pt,
						#fff0 20pt
					),
					repeating-linear-gradient(
						135deg,
						#999a 0pt,
						#999a 1pt,
						#fff0 1pt,
						#fff0 20pt
					);
			}


		</style>

		<output>
		<form onchange="setColour();">
			<h2>Colour</h2>
			<label>
				Colour
				<input type="color" id="input-colour" value="orangered">
			</label>
			<label>
				Channel divisions
				<input type="number" id="input-divisions" min="2" max="12" step="1" value="5">
			</label>
			<br/>

			<h3>hsl</h3>
			<div class="swatches" id="swatchesHSL"></div>

			<h3>hwb</h3>
			<div class="swatches" id="swatchesHWB"></div>

		</form>
		</output>


		<form>
			<h2>Generic form</h2>

			<textarea title="this is a title attribute">
				lorem ipsum dolor sit amet
			</textarea>
			<br/>
			<button type="button">button</button>
			<label>
				<input type="radio" name="radio" value="radio1" checked>
				radio1
			</label>
			<label>
				<input type="radio" name="radio" value="radio2">
				radio2
			</label>
			<input type="checkbox" checked>
			<input type="range" min="1" max="10" value="5">
			<input type="number" min="1" max="10" value="5">
			<input type="date">
			<select size=3>
				<option>option 1</option>
				<option>option 2</option>
				<option>option 3</option>
				<option>option 4</option>
			</select>
			<input type="color">
			<details>
				<summary>summary</summary>
				details
			</details>
		</form>





	</main>

</body>
</html>