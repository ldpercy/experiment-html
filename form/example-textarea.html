<!doctype html>
<html lang="en">
<head>
	<title>https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement</title>
	<meta charset="utf-8">
	<!--
	<link rel="icon" href="../[common]/favicon.svg">
	<link rel="stylesheet" href="../[common]/common-style.css">
	<link rel="stylesheet" href="form.css">
	-->

	<style>
		.intLink {
			cursor: pointer;
			text-decoration: underline;
			color: blue;
		}
	</style>



	<script>
		function insert(startTag, endTag) {
			const textArea = document.myForm.myTextArea;
			const start = textArea.selectionStart;
			const end = textArea.selectionEnd;
			const oldText = textArea.value;

			const prefix = oldText.substring(0, start);
			const inserted = startTag + oldText.substring(start, end) + endTag;
			const suffix = oldText.substring(end);

			textArea.value = `${prefix}${inserted}${suffix}`;

			const newStart = start + startTag.length;
			const newEnd = end + startTag.length;

			textArea.setSelectionRange(newStart, newEnd);
			textArea.focus();
		}

		function insertURL() {
			const newURL = prompt("Enter the full URL for the link");
			if (newURL) {
				insert(`<a href="${newURL}">`, "</a>");
			} else {
				document.myForm.myTextArea.focus();
			}
		}


		function bodyOnload(){
			const strong = document.querySelector("#format-strong");
			const em = document.querySelector("#format-em");
			const link = document.querySelector("#format-link");
			const code = document.querySelector("#format-code");

			strong.addEventListener("click", (e) => insert("<strong>", "</strong>"));
			em.addEventListener("click", (e) => insert("<em>", "</em>"));
			link.addEventListener("click", (e) => insertURL());
			code.addEventListener("click", (e) => insert("<code>", "</code>"));
		}

	</script>



</head>
<body onload="bodyOnload()">
	<h1>developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement</h1>


	<form name="myForm">
	<p>
		[
		<span class="intLink" id="format-strong"><strong>Bold</strong></span> |
		<span class="intLink" id="format-em"><em>Italic</em></span> |
		<span class="intLink" id="format-link">URL</span> |
		<span class="intLink" id="format-code">code</span> ]
	</p>

	<p>
		<textarea name="myTextArea" rows="10" cols="120" spellcheck="false">
			Lorem ipsum dolor sit amet, consectetur adipiscing elit.
			Ut facilisis, arcu vitae adipiscing placerat, nisl lectus accumsan nisi, vitae iaculis sem neque vel lectus.
			Praesent tristique commodo lorem quis fringilla.
			Sed ac tellus eros.
		</textarea>
	</p>
	</form>


</body>
</html>
