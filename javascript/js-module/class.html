<!doctype html>
<html lang="en">
<head>
	<title>JS Module</title>
	<meta charset="utf-8">
	<link rel="icon" href="../../favicon.svg">
	<link rel="stylesheet" href="../../[common]/common-style.css">
</head>
<body>
	<header>
		<h1><a href="">JS Module</a></h1>
		<nav>
			<a class="colourScheme-selector" href="?colourScheme=light" title="Light colour scheme" data-colourscheme="light">ðŸŸ“</a>
			<a class="colourScheme-selector" href="?colourScheme=dark" title="Dark colour scheme" data-colourscheme="dark">ðŸŸ’</a>
			<a title="To folder" href="./">ðŸ–¿</a>
			<a title="Parent folder" href="../">ðŸ¡…</a>
		</nav>
	</header>

	<input type="text" id="input-url" placeholder="url">


	<main>
	<style>
		input[type=text] { width:40em; }
	</style>

	<script>
		const protocol = new URL(window.location).protocol;

		if (protocol === 'file:') {
			alert("You are using `file:` protocol - modules won't work");
		}
	</script>

	<script type="module" src="index.js"></script>


	<!--
	<script type="module" src="test/test.js"></script>
	<script type="module" src="test/test.mjs"></script>
	-->


	<script type="module" src="abcd/module.js"></script>
	<script type="module" src="efgh/module.js"></script>

	<script type="module">

		// Can you use a module function out here?
		// not with plain <script> - 'import declarations may only appear at top level of a module'
		// but if you add `type="module"` then yes

		import * as abcd from "./abcd/module.js";

		abcd.func1();


		console.log(abcd);

		//console.log(JSON.stringify(abcd));		// returns {}
		//console.log(abcd.toString());				// Uncaught TypeError: abcd.toString is not a function


	</script>

	</main>

	<h2>Log:</h2>
	<output id="pageLog"></output>
</body>
</html>