<!doctype html>
<html lang="en">
<head>
	<title>Serving and CORS</title>
	<meta charset="utf-8">
	<link rel="icon" href="../[common]/html-experiment.svg">
	<link rel="stylesheet" href="../[common]/common-style.css">
	<link rel="stylesheet" href="index.css">
	<script defer src="../[common]/HTMLApp.js"></script>
	<script defer src="index.js"></script>
	<script defer src="../[common]/colourScheme-selector.js"></script>
</head>
<body>
	<header>
		<h1><a href="">Serving and CORS</a></h1>
		<nav>
			<a class="colourScheme-selector" href="?colourScheme=light" title="Light colour scheme" data-colourscheme="light">üüì</a>
			<a class="colourScheme-selector" href="?colourScheme=dark" title="Dark colour scheme" data-colourscheme="dark">üüí</a>
			<a title="To folder" href="./">üñø</a>
			<a title="Parent folder" href="../">ü°Ö</a>
		</nav>
	</header>

	<main class="no-grid">


		<script src="doesnt-exist.js"></script>

		<pre>
			Using file:///

			firefox			200 plus a warning
			chromium		error (failed)net::ERR_FILE_NOT_FOUND
		</pre>

		<script type="module" src="module.js"></script>
		<pre>
			Using file:///

			firefox:
			<q>
				Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at file:///path/to/project/experiment-html/serving-and-cors/module.js. (Reason: CORS request not http).
				Module source URI is not allowed in this document: ‚Äúfile:///path/to/project/experiment-html/serving-and-cors/module.js‚Äù.
			</q>

			chromium:
			<q>
				index.html:1 Access to script at 'file:///path/to/project/experiment-html/serving-and-cors/module.js' from origin 'null' has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: chrome, chrome-extension, chrome-untrusted, data, http, https, isolated-app.
				index.html:31  GET file:///path/to/project/experiment-html/serving-and-cors/module.js net::ERR_FAILED
			</q>
		</pre>

		<pre>
			First three work in FF native for me, last one doesn't:
			<img style="height:300px" src="/usr/share/icons/gnome/scalable/places/debian-swirl.svg">
			<img style="height:300px" src="../../experiment-svg/polygon/star-12.svg">
			<img style="height:300px" src="/home/user/Pictures/test.svg">
			<img style="height:300px" src="~/Pictures/test.svg">
			Chromium is a snap and has more sandboxing, only 2+3 work
			None work under http.
		</pre>


	</main>

</body>
</html>