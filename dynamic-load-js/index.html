<!doctype html>
<html lang="en">
<head>
	<title>Dynamic Load JS</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- core items -->
	<link rel="stylesheet" href="../style/default.css">
	<script defer src="../util/util.js"></script>
	<script defer src="dynamic-load.js"></script>

	<!--- src change doesn't work --->
	<script
		defer
		id="srcScript"
		src="./script/placeholder.js"
		onload="log('srcScript: onload');"
		onreadystatechange="log('srcScript: onreadystatechange');"
		>
	</script>

	<script
		defer
		id="replaceScript"
		src="./script/placeholder.js"
		>
	</script>

</head>
<body
	onload="bodyOnload();"
	onreadystatechange="log('body: onreadystatechange');"
	>

	<h1><a href="index.html">Dynamic Load JS</a></h1>

	<h2>Load page with folder:</h2>
	<p>
		<a href="index.html">index.html</a>
		<a href="index.html?folder=abc">index.html?folder=abc</a>
		<a href="index.html?folder=def">index.html?folder=def</a>
	</p>

	<h2>Replace script:</h2>
	<p>
		<button onclick="replaceScript('replaceScript', '', null)">none</button>
		<button onclick="replaceScript('replaceScript', 'script/abc.js', scriptLoaded('abc'))">abc/script.js</button>
		<button onclick="replaceScript('replaceScript', 'script/def.js', scriptLoaded('def'))">def/script.js</button>
	</p>
	<p>
		<button onclick="replaceScript('replaceScript', '', null)">none</button>
		<button onclick="replaceScript('replaceScript', 'script/abc.js', scriptAnnounce)">abc/script.js</button>
		<button onclick="replaceScript('replaceScript', 'script/def.js', scriptAnnounce)">def/script.js</button>
	</p>


	<h2>Append script:</h2>
	<p>
		<button onclick="appendScript('', null)">none</button>
		<button onclick="appendScript('script/abc.js', scriptLoaded('abc'))">abc/script.js</button>
		<button onclick="appendScript('script/def.js', scriptLoaded('def'))">def/script.js</button>
	</p>

	<h2>Switch script:</h2>
	<p>
		<button onclick="updateSrc('script/placeholder.js', null)">script/placeholder.js</button>
		<button onclick="updateSrc('script/abc.js', null)">abc/script.js</button>
		<button onclick="updateSrc('script/def.js', null)">def/script.js</button>
	</p>


	<h2>Log:</h2>
	<pre class="log" id="prelog"></pre>

</body>
</html>